// Generated by CoffeeScript 1.7.1
(function() {
  var module;

  module = angular.module('TodosModule', []);

  module.controller('TodosController', [
    '$scope', function($scope) {
      var groupNameHash;
      $scope.todos = [
        {
          text: 'Meet with friend',
          when: 'Expired'
        }, {
          text: 'A little workout',
          when: 'Done'
        }, {
          text: 'Shopping',
          when: 'Today'
        }, {
          text: 'Pay taxes',
          when: 'This week'
        }, {
          text: 'Read that book',
          when: 'This month'
        }, {
          text: 'Make a TodoApp',
          when: 'This month'
        }
      ];
      $scope.groups = [];
      groupNameHash = {};
      $scope.todos.forEach(function(todo) {
        if (!groupNameHash[todo.when]) {
          groupNameHash[todo.when] = 1;
          return $scope.groups.push({
            name: todo.when
          });
        }
      });
      $scope.groups.byType = function(type) {
        if (type === 'active') {
          return $scope.groups.filter(function(group) {
            return group.name !== 'Done';
          });
        } else if (type === 'done') {
          return $scope.groups.filter(function(group) {
            return group.name === 'Done';
          });
        } else {
          return $scope.groups;
        }
      };
      return $scope.groups.forEach(function(group) {
        return group.todos = $scope.todos.filter(function(todo) {
          return todo.when === group.name;
        });
      });
    }
  ]);

}).call(this);
